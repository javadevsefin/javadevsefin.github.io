(window.webpackJsonp=window.webpackJsonp||[]).push([[6],{"3vod":function(t,e,o){"use strict";o.r(e),o.d(e,"AcessoModule",(function(){return I}));var s=o("ofXK"),r=o("tk/3"),i=o("3Pt+"),b=o("fXoL"),a=o("IzEk"),c=o("AytR");let n=(()=>{class t{constructor(t){this.http=t,this.API=c.a.API+"/atendeFacil/api"}listRole(){return this.http.get(this.API+"/role").pipe(Object(a.a)(1))}listAcesso(){return this.http.get(this.API+"/acesso").pipe(Object(a.a)(1))}loadById(t){return this.http.get(`${this.API}/acesso/${t}`).pipe(Object(a.a)(1))}create(t){return this.http.post(this.API+"/acesso",t).pipe(Object(a.a)(1))}update(t){return this.http.put(`${this.API}/acesso/${t.id}`,t).pipe(Object(a.a)(1))}save(t){return t.id?this.update(t):this.create(t)}}return t.\u0275fac=function(e){return new(e||t)(b.Ob(r.a))},t.\u0275prov=b.Db({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();var d=o("tyNb");function l(t,e){if(1&t){const t=b.Lb();b.Kb(0,"tr"),b.Kb(1,"td"),b.dc(2),b.Jb(),b.Kb(3,"td"),b.dc(4),b.Jb(),b.Kb(5,"td"),b.dc(6),b.Jb(),b.Kb(7,"td"),b.dc(8),b.Jb(),b.Kb(9,"td"),b.Kb(10,"button",13),b.Rb("click",(function(){b.Yb(t);const o=e.$implicit;return b.Tb().onEdit(o.id)})),b.Ib(11,"i",14),b.Jb(),b.Kb(12,"button",15),b.Rb("click",(function(){b.Yb(t);const e=b.Tb();return e.pegaDados(e.orgao.id,e.orgao.descricao)})),b.Ib(13,"i",16),b.Jb(),b.Jb(),b.Jb()}if(2&t){const t=e.$implicit;b.xb(2),b.fc(" ",t.id," "),b.xb(2),b.fc(" ",t.servidor.nome," "),b.xb(2),b.fc(" ",t.unidade.descricao," "),b.xb(2),b.fc(" ",t.role.descricao," ")}}let u=(()=>{class t{constructor(t,e,o){this.acessoService=t,this.router=e,this.route=o}ngOnInit(){this.listarAcesso()}listarAcesso(){this.acessoService.listAcesso().subscribe(t=>this.acessos=t)}onEdit(t){this.router.navigate(["editar",t],{relativeTo:this.route})}}return t.\u0275fac=function(e){return new(e||t)(b.Hb(n),b.Hb(d.b),b.Hb(d.a))},t.\u0275cmp=b.Bb({type:t,selectors:[["app-acesso-list"]],decls:32,vars:1,consts:[[1,"col-12"],[1,"breadcrumb"],[1,"breadcrumb-item"],["routerLink","/"],[1,"breadcrumb-item","active"],[1,"row","mb-4"],[1,"col-md"],[1,"h3","border-left","pl-2"],["type","button","routerLink","new",1,"btn","btn-success","float-right"],[1,"fas","fa-user-plus"],[1,"table","table-hover",2,"box-shadow","5px 5px 10px #000"],[1,"bg-success","text-light"],[4,"ngFor","ngForOf"],[1,"btn","btn-outline-info","btn-sm",3,"click"],[1,"far","fa-edit"],["data-toggle","modal","data-target","#ModalExclusao",1,"btn","btn-outline-danger","btn-sm",3,"click"],[1,"far","fa-trash-alt"]],template:function(t,e){1&t&&(b.Kb(0,"div",0),b.Kb(1,"nav"),b.Kb(2,"ol",1),b.Kb(3,"li",2),b.Kb(4,"a",3),b.dc(5,"In\xedcio"),b.Jb(),b.Jb(),b.Kb(6,"li",4),b.dc(7,"Listagem"),b.Jb(),b.Jb(),b.Jb(),b.Kb(8,"div",5),b.Kb(9,"div",6),b.Kb(10,"h1",7),b.dc(11," Listagem de Acessos "),b.Jb(),b.Jb(),b.Kb(12,"div",6),b.Kb(13,"button",8),b.Ib(14,"i",9),b.dc(15," Cadastrar acesso "),b.Jb(),b.Jb(),b.Jb(),b.Kb(16,"div",0),b.Kb(17,"table",10),b.Kb(18,"thead"),b.Kb(19,"tr",11),b.Kb(20,"th"),b.dc(21,"Matr\xedcula"),b.Jb(),b.Kb(22,"th"),b.dc(23,"Nome"),b.Jb(),b.Kb(24,"th"),b.dc(25,"Unidade"),b.Jb(),b.Kb(26,"th"),b.dc(27,"Fun\xe7\xe3o"),b.Jb(),b.Kb(28,"th"),b.dc(29,"A\xe7\xf5es"),b.Jb(),b.Jb(),b.Jb(),b.Kb(30,"tbody"),b.cc(31,l,14,4,"tr",12),b.Jb(),b.Jb(),b.Jb(),b.Jb()),2&t&&(b.xb(31),b.Wb("ngForOf",e.acessos))},directives:[d.d,d.c,s.i],styles:[""]}),t})();var m=o("rwds"),h=o("sXzJ");function p(t,e){1&t&&(b.Kb(0,"div",36),b.Kb(1,"a",37),b.Kb(2,"span",38),b.dc(3,"\xd7"),b.Jb(),b.Jb(),b.dc(4," Opera\xe7\xe3o realizada com sucesso!!! "),b.Jb())}function f(t,e){if(1&t&&(b.Kb(0,"option",39),b.dc(1),b.Jb()),2&t){const t=e.$implicit;b.Wb("value",t.matricula),b.xb(1),b.ec(t.nome)}}function v(t,e){if(1&t&&(b.Kb(0,"option",39),b.dc(1),b.Jb()),2&t){const t=e.$implicit;b.Wb("value",t.id),b.xb(1),b.ec(t.descricao)}}function J(t,e){if(1&t&&(b.Kb(0,"option",39),b.dc(1),b.Jb()),2&t){const t=e.$implicit;b.Wb("value",t.id),b.xb(1),b.ec(t.descricao)}}let K=(()=>{class t{constructor(t,e,o,s,r){this.fb=t,this.unidadeService=e,this.acessoService=o,this.servidorService=s,this.route=r,this.mostrarMens=!1}ngOnInit(){this.comboBox();const t=this.route.snapshot.params;null!=t.id&&this.acessoService.loadById(t.id).subscribe(t=>{this.updateAcessoForm(t)}),this.acessoForm=this.fb.group({id:[null,[]],servidor:this.fb.group({matricula:["",[]]}),unidade:this.fb.group({id:["",[]]}),role:this.fb.group({id:["",[]]}),senha:["",[]]})}updateAcessoForm(t){this.acessoForm.patchValue(t)}comboBox(){this.unidadeService.listUnidade().subscribe(t=>this.unidades=t),this.acessoService.listRole().subscribe(t=>this.roles=t),this.servidorService.listServidor().subscribe(t=>this.servidores=t)}confirmar(){this.matricula=this.acessoForm.get("matricula").value,this.servidor=this.acessoForm.get("servidor").value,this.unidade=this.acessoForm.get("unidade").value,this.role=this.acessoForm.get("role").value,null==this.acessoForm.get("senha").value&&this.acessoForm.get("senha").setValue(this.gerarSenha()),this.senha=this.acessoForm.get("senha").value}gerarSenha(){let t;return null==this.matricula&&(t="1038885".substring(0,3)+this.acessoForm.get("servidor").value.substring(0,3)),t}onSubmit(){this.acessoForm.valid&&this.acessoService.save(this.acessoForm.value).subscribe(t=>{this.mostrarMens=!0}),this.acessoForm.reset()}}return t.\u0275fac=function(e){return new(e||t)(b.Hb(i.b),b.Hb(m.a),b.Hb(n),b.Hb(h.a),b.Hb(d.a))},t.\u0275cmp=b.Bb({type:t,selectors:[["app-acesso-form"]],decls:63,vars:8,consts:[[1,"col-12"],[1,"breadcrumb"],[1,"breadcrumb-item"],["routerLink","/"],["routerLink","/acesso"],[1,"breadcrumb-item","active"],["class","alert alert-success","role","alert",4,"ngIf"],[1,"row","mb-4"],[1,"col-md"],[1,"h3","border-left","pl-2"],["type","button","routerLink","/acesso",1,"btn","btn-warning","float-right"],[1,"fas","fa-backward"],["novalidate","",1,"needs-validation",3,"formGroup"],[1,"card"],[1,"card-header"],[1,"card-body"],[1,"form-row","col-md-12"],[1,"form-group","col-md-1"],["for","mat"],["type","text","id","id","formControlName","id","readonly","",1,"form-control"],["formGroupName","servidor",1,"form-group","col-md-5"],["for","servidor"],["id","servidor","formControlName","matricula",1,"form-control"],["value","","selected",""],[3,"value",4,"ngFor","ngForOf"],["formGroupName","unidade",1,"form-group","col-md-4"],["for","uni"],["id","uni","formControlName","id",1,"form-control"],["formGroupName","role",1,"form-group","col-md-2"],["for","role"],["id","role","formControlName","id",1,"form-control"],[1,"form-group","col-md-2"],["for","senha"],["type","text","id","senha","formControlName","senha",1,"form-control"],["type","submit",1,"btn","btn-success","float-right","mt-2",3,"click"],[1,"fas","fa-save"],["role","alert",1,"alert","alert-success"],["type","button","data-dismiss","alert","aria-label","Fechar",1,"close"],["aria-hidden","true"],[3,"value"]],template:function(t,e){1&t&&(b.Kb(0,"div",0),b.Kb(1,"nav"),b.Kb(2,"ol",1),b.Kb(3,"li",2),b.Kb(4,"a",3),b.dc(5,"In\xedcio"),b.Jb(),b.Jb(),b.Kb(6,"li",2),b.Kb(7,"a",4),b.dc(8,"Listagem"),b.Jb(),b.Jb(),b.Kb(9,"li",5),b.dc(10,"Acessos"),b.Jb(),b.Jb(),b.Jb(),b.cc(11,p,5,0,"div",6),b.Kb(12,"div",7),b.Kb(13,"div",8),b.Kb(14,"h1",9),b.dc(15," Cadastro de Acessos "),b.Jb(),b.Jb(),b.Kb(16,"div",8),b.Kb(17,"button",10),b.Ib(18,"i",11),b.dc(19,"\xa0Voltar "),b.Jb(),b.Jb(),b.Jb(),b.Kb(20,"form",12),b.Kb(21,"div",13),b.Kb(22,"div",14),b.dc(23," Formul\xe1rio para cadastro de Acessos "),b.Jb(),b.Kb(24,"div",15),b.Kb(25,"div",16),b.Kb(26,"div",17),b.Kb(27,"label",18),b.dc(28,"ID:"),b.Jb(),b.Ib(29,"input",19),b.Jb(),b.Kb(30,"div",20),b.Kb(31,"label",21),b.dc(32,"Servidor:"),b.Jb(),b.Kb(33,"select",22),b.Kb(34,"option",23),b.dc(35,"Escolha o servidor"),b.Jb(),b.cc(36,f,2,2,"option",24),b.Jb(),b.Jb(),b.Kb(37,"div",25),b.Kb(38,"label",26),b.dc(39,"Unidade:"),b.Jb(),b.Kb(40,"select",27),b.Kb(41,"option",23),b.dc(42,"Escolha a unidade"),b.Jb(),b.cc(43,v,2,2,"option",24),b.Jb(),b.Jb(),b.Kb(44,"div",28),b.Kb(45,"label",29),b.dc(46,"Fun\xe7\xe3o:"),b.Jb(),b.Kb(47,"select",30),b.Kb(48,"option",23),b.dc(49,"Escolha a fun\xe7\xe3o"),b.Jb(),b.cc(50,J,2,2,"option",24),b.Jb(),b.Jb(),b.Jb(),b.Kb(51,"div",16),b.Kb(52,"div",31),b.Kb(53,"label",32),b.dc(54,"Senha:"),b.Jb(),b.Ib(55,"input",33),b.Jb(),b.Jb(),b.Jb(),b.Jb(),b.Jb(),b.Kb(56,"div"),b.Kb(57,"button",34),b.Rb("click",(function(){return e.onSubmit()})),b.Ib(58,"i",35),b.dc(59," \xa0Salvar "),b.Jb(),b.Jb(),b.Jb(),b.Kb(60,"pre"),b.dc(61),b.Ub(62,"json"),b.Jb()),2&t&&(b.xb(11),b.Wb("ngIf",e.mostrarMens),b.xb(9),b.Wb("formGroup",e.acessoForm),b.xb(16),b.Wb("ngForOf",e.servidores),b.xb(7),b.Wb("ngForOf",e.unidades),b.xb(7),b.Wb("ngForOf",e.roles),b.xb(11),b.fc("    ",b.Vb(62,6,e.acessoForm.value),"\n  "))},directives:[d.d,s.j,d.c,i.o,i.g,i.d,i.a,i.f,i.c,i.e,i.k,i.h,i.n,s.i],pipes:[s.e],styles:[""]}),t})();const g=[{path:"",component:u},{path:"new",component:K},{path:"editar/:id",component:K}];let F=(()=>{class t{}return t.\u0275mod=b.Fb({type:t}),t.\u0275inj=b.Eb({factory:function(e){return new(e||t)},imports:[[d.e.forChild(g)],d.e]}),t})(),I=(()=>{class t{}return t.\u0275mod=b.Fb({type:t}),t.\u0275inj=b.Eb({factory:function(e){return new(e||t)},imports:[[s.b,F,i.j,r.b]]}),t})()}}]);