(window.webpackJsonp=window.webpackJsonp||[]).push([[18],{sxK1:function(e,t,r){"use strict";r.r(t),r.d(t,"PerfilAtendimentoModule",(function(){return g}));var i=r("ofXK"),b=r("tk/3"),o=r("3Pt+"),c=r("fXoL"),a=r("sXzJ"),n=r("FpYS"),l=r("IzEk"),s=r("AytR");let d=(()=>{class e{constructor(e){this.http=e,this.API=s.a.API+"/atendeFacil/api/perfilatendimento"}loadById(e){return this.http.get(`${this.API}/${e}`).pipe(Object(l.a)(1))}createPerfil(e,t){const r=(new b.c).set("matricula",e).set("servico",t);return this.http.get(this.API+"/gerarPerfil?"+r).pipe(Object(l.a)(1))}remove(e){return this.http.delete(`${this.API}/${e}`).pipe(Object(l.a)(1))}}return e.\u0275fac=function(t){return new(t||e)(c.Ob(b.a))},e.\u0275prov=c.Db({token:e,factory:e.\u0275fac,providedIn:"root"}),e})();var f=r("tyNb");function m(e,t){1&e&&(c.Kb(0,"div",30),c.Kb(1,"a",31),c.Kb(2,"span",32),c.dc(3,"\xd7"),c.Jb(),c.Jb(),c.dc(4," Opera\xe7\xe3o realizada com sucesso!!! "),c.Jb())}function u(e,t){if(1&e&&(c.Kb(0,"option",33),c.dc(1),c.Jb()),2&e){const e=t.$implicit;c.Wb("value",e.matricula),c.xb(1),c.ec(e.nome)}}function p(e,t){if(1&e&&(c.Kb(0,"option",33),c.dc(1),c.Jb()),2&e){const e=t.$implicit;c.Wb("value",e.id),c.xb(1),c.ec(e.descricao)}}function v(e,t){if(1&e){const e=c.Lb();c.Kb(0,"tr"),c.Kb(1,"td"),c.dc(2),c.Jb(),c.Kb(3,"td"),c.dc(4),c.Jb(),c.Kb(5,"td"),c.dc(6),c.Jb(),c.Kb(7,"td"),c.dc(8),c.Jb(),c.Kb(9,"td"),c.dc(10),c.Jb(),c.Kb(11,"td"),c.dc(12),c.Jb(),c.Kb(13,"td"),c.Kb(14,"button",37),c.Rb("click",(function(){c.Yb(e);const r=t.$implicit;return c.Tb(2).onDelete(r.id)})),c.Ib(15,"i",38),c.Jb(),c.Jb(),c.Jb()}if(2&e){const e=t.$implicit;c.xb(2),c.fc(" ",e.id," "),c.xb(2),c.fc(" ",e.servidor," "),c.xb(2),c.fc(" ",e.unidade," "),c.xb(2),c.fc(" ",e.role," "),c.xb(2),c.fc(" ",e.detalhamento," "),c.xb(2),c.fc(" ",e.servico," ")}}function h(e,t){if(1&e&&(c.Kb(0,"div",16),c.Kb(1,"span",22),c.dc(2,"Acessos para: "),c.Kb(3,"span",23),c.dc(4),c.Jb(),c.Jb(),c.Kb(5,"table",34),c.Kb(6,"thead"),c.Kb(7,"tr",35),c.Kb(8,"th"),c.dc(9,"ID"),c.Jb(),c.Kb(10,"th"),c.dc(11,"Servidor"),c.Jb(),c.Kb(12,"th"),c.dc(13,"Unidade"),c.Jb(),c.Kb(14,"th"),c.dc(15,"Tipo"),c.Jb(),c.Kb(16,"th"),c.dc(17,"Detalhamento"),c.Jb(),c.Kb(18,"th"),c.dc(19,"Servi\xe7o"),c.Jb(),c.Kb(20,"th"),c.dc(21,"A\xe7\xf5es"),c.Jb(),c.Jb(),c.Jb(),c.Kb(22,"tbody"),c.cc(23,v,16,6,"tr",36),c.Jb(),c.Jb(),c.Jb()),2&e){const e=c.Tb();c.xb(4),c.ec(e.perfilForm.get("matricula").value),c.xb(19),c.Wb("ngForOf",e.perfilAtendimentos)}}const J=[{path:"",component:(()=>{class e{constructor(e,t,r,i){this.fb=e,this.servidorService=t,this.detalhamentoServicoService=r,this.perfilAtendimentoService=i,this.mostrarMens=!1}ngOnInit(){this.combobox(),this.perfilForm=this.fb.group({id:[null,[]],matricula:["",[]],servico:["",[]]})}combobox(){this.servidorService.listServidor().subscribe(e=>this.servidores=e),this.detalhamentoServicoService.listDetalhamentoServico().subscribe(e=>this.delServicos=e)}listarPerfil(e){this.perfilAtendimentoService.loadById(e).subscribe(e=>this.perfilAtendimentos=e)}onSubmit(){let e=this.perfilForm.get("matricula").value;this.perfilForm.get("servico").value.forEach(t=>{this.perfilAtendimentoService.createPerfil(e,t).subscribe(t=>{this.listarPerfil(e),this.mostrarMens=!0})}),this.mostrarMens=!1}onDelete(e){this.perfilAtendimentoService.remove(e).subscribe(e=>{this.listarPerfil(this.perfilForm.get("matricula").value)})}}return e.\u0275fac=function(t){return new(t||e)(c.Hb(o.b),c.Hb(a.a),c.Hb(n.a),c.Hb(d))},e.\u0275cmp=c.Bb({type:e,selectors:[["app-perfil-atendimento-form"]],decls:51,vars:6,consts:[[1,"col-12"],[1,"breadcrumb"],[1,"breadcrumb-item"],["routerLink","/"],[1,"breadcrumb-item","active"],["class","alert alert-success","role","alert",4,"ngIf"],[1,"row","mb-4"],[1,"col-md"],[1,"h3","border-left","pl-2"],["type","button","routerLink","/servidor",1,"btn","btn-warning","float-right"],[1,"fas","fa-backward"],["novalidate","",1,"needs-validation",3,"formGroup"],[1,"card",2,"box-shadow","5px 5px 10px #000"],[1,"card-header"],[1,"card-body"],[1,"form-row","col-md-12"],[1,"col-md-6"],[1,"form-group","col-md-12"],["for","servidor"],["id","servidor","formControlName","matricula",1,"form-control",3,"blur"],["value","","selected",""],[3,"value",4,"ngFor","ngForOf"],[2,"font-weight","bold","color","blue"],[2,"color","red"],["for","detalheServico"],["multiple","","id","detalheServico","formControlName","servico",1,"form-control"],["id","emailHelp",1,"form-text","text-muted"],["class","col-md-6",4,"ngIf"],["type","submit",1,"btn","btn-success","float-right","mt-2",3,"click"],[1,"fas","fa-save"],["role","alert",1,"alert","alert-success"],["type","button","data-dismiss","alert","aria-label","Fechar",1,"close"],["aria-hidden","true"],[3,"value"],[1,"table","table-hover",2,"box-shadow","5px 5px 10px #000","margin-top","10px"],[1,"bg-success","text-light"],[4,"ngFor","ngForOf"],["data-toggle","modal","data-target","#ModalExclusao",1,"btn","btn-outline-danger","btn-sm",3,"click"],[1,"far","fa-trash-alt"]],template:function(e,t){1&e&&(c.Kb(0,"div",0),c.Kb(1,"nav"),c.Kb(2,"ol",1),c.Kb(3,"li",2),c.Kb(4,"a",3),c.dc(5,"In\xedcio"),c.Jb(),c.Jb(),c.Kb(6,"li",4),c.dc(7,"Cadastro do Perfil de atendimento"),c.Jb(),c.Jb(),c.Jb(),c.cc(8,m,5,0,"div",5),c.Kb(9,"div",6),c.Kb(10,"div",7),c.Kb(11,"h1",8),c.dc(12," Perfil de atendimento "),c.Jb(),c.Jb(),c.Kb(13,"div",7),c.Kb(14,"button",9),c.Ib(15,"i",10),c.dc(16,"\xa0Voltar "),c.Jb(),c.Jb(),c.Jb(),c.Kb(17,"form",11),c.Kb(18,"div",12),c.Kb(19,"div",13),c.dc(20," Formul\xe1rio para cadastro do Perfil de Atendimento "),c.Jb(),c.Kb(21,"div",14),c.Kb(22,"div",15),c.Kb(23,"div",16),c.Kb(24,"div",15),c.Kb(25,"div",17),c.Kb(26,"label",18),c.dc(27,"Servidor:"),c.Jb(),c.Kb(28,"select",19),c.Rb("blur",(function(){return t.listarPerfil(t.perfilForm.get("matricula").value)})),c.Kb(29,"option",20),c.dc(30,"Escolha o servidor"),c.Jb(),c.cc(31,u,2,2,"option",21),c.Jb(),c.Jb(),c.Jb(),c.Kb(32,"div",15),c.Kb(33,"div",17),c.Kb(34,"span",22),c.dc(35," Confira a matr\xedcula: "),c.Kb(36,"span",23),c.dc(37),c.Jb(),c.Jb(),c.Jb(),c.Jb(),c.Kb(38,"div",15),c.Kb(39,"div",17),c.Kb(40,"label",24),c.dc(41,"Detalhamento de Servi\xe7os:"),c.Jb(),c.Kb(42,"select",25),c.cc(43,p,2,2,"option",21),c.Jb(),c.Kb(44,"small",26),c.dc(45,"Para multipla sela\xe7\xe3o mantenha a tecla Ctrl pressionada."),c.Jb(),c.Jb(),c.Jb(),c.Jb(),c.cc(46,h,24,2,"div",27),c.Jb(),c.Jb(),c.Jb(),c.Jb(),c.Kb(47,"div"),c.Kb(48,"button",28),c.Rb("click",(function(){return t.onSubmit()})),c.Ib(49,"i",29),c.dc(50," \xa0Salvar "),c.Jb(),c.Jb(),c.Jb()),2&e&&(c.xb(8),c.Wb("ngIf",t.mostrarMens),c.xb(9),c.Wb("formGroup",t.perfilForm),c.xb(14),c.Wb("ngForOf",t.servidores),c.xb(6),c.ec(t.perfilForm.get("matricula").value),c.xb(6),c.Wb("ngForOf",t.delServicos),c.xb(3),c.Wb("ngIf",null!=t.perfilAtendimentos))},directives:[f.d,i.j,f.c,o.o,o.g,o.d,o.k,o.f,o.c,o.h,o.n,i.i,o.l],styles:[""]}),e})()}];let K=(()=>{class e{}return e.\u0275mod=c.Fb({type:e}),e.\u0275inj=c.Eb({factory:function(t){return new(t||e)},imports:[[f.e.forChild(J)],f.e]}),e})(),g=(()=>{class e{}return e.\u0275mod=c.Fb({type:e}),e.\u0275inj=c.Eb({factory:function(t){return new(t||e)},imports:[[i.b,K,o.j,b.b]]}),e})()}}]);