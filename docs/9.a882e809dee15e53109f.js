(window.webpackJsonp=window.webpackJsonp||[]).push([[9],{"WK+y":function(t,e,a){"use strict";a.r(e),a.d(e,"AtivacaoModule",(function(){return g}));var i=a("ofXK"),b=a("tk/3"),r=a("3Pt+"),o=a("fXoL"),c=a("vkgz"),d=a("IzEk"),n=a("AytR");let s=(()=>{class t{constructor(t){this.http=t,this.API=n.a.API+"/atendeFacil/api"}senhaById(t){return this.http.get(`${this.API}/agendamento/senha/${t}`).pipe(Object(c.a)(console.log),Object(d.a)(1))}listarFilaAtivados(t){return this.http.get(`${this.API}/fila/ativados/${t}`).pipe(Object(d.a)(1),Object(c.a)(console.log))}updateAgendamento(t){return this.http.get(`${this.API}/agendamento/agendamentoFila/${t}`).pipe(Object(d.a)(1))}create(t){return this.http.post(this.API+"/fila",t).pipe(Object(d.a)(1))}}return t.\u0275fac=function(e){return new(e||t)(o.Ob(b.a))},t.\u0275prov=o.Db({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();var l=a("tyNb");function h(t,e){1&t&&(o.Kb(0,"div",22),o.Kb(1,"a",23),o.Kb(2,"span",24),o.dc(3,"\xd7"),o.Jb(),o.Jb(),o.Kb(4,"spna",25),o.dc(5,"PR\xd3XIMO!!!"),o.Jb(),o.Jb())}function v(t,e){if(1&t){const t=o.Lb();o.Kb(0,"div",35),o.Kb(1,"button",36),o.Rb("click",(function(){return o.Yb(t),o.Tb(2).ativar()})),o.Ib(2,"i",37),o.dc(3,"\xa0 Ativar Senha "),o.Jb(),o.Jb()}}function f(t,e){if(1&t&&(o.Kb(0,"div",26),o.Kb(1,"div",27),o.Kb(2,"div",28),o.Kb(3,"b"),o.Kb(4,"u"),o.dc(5,"Comprovanete de Agendamento"),o.Jb(),o.Jb(),o.Jb(),o.Jb(),o.Kb(6,"div"),o.Kb(7,"div"),o.Kb(8,"div",29),o.Kb(9,"div",30),o.Kb(10,"span",31),o.dc(11),o.Jb(),o.Jb(),o.Kb(12,"div",32),o.Kb(13,"div",30),o.dc(14),o.Jb(),o.Kb(15,"div",30),o.dc(16),o.Jb(),o.Kb(17,"div",30),o.dc(18),o.Jb(),o.Kb(19,"div",30),o.dc(20),o.Kb(21,"div",30),o.dc(22),o.Jb(),o.Jb(),o.Kb(23,"div",30),o.dc(24),o.Jb(),o.Kb(25,"div",30),o.dc(26),o.Jb(),o.Kb(27,"div",30),o.dc(28),o.Jb(),o.Kb(29,"div",30),o.dc(30),o.Jb(),o.Kb(31,"div",30),o.dc(32," STATUS:\xa0"),o.Kb(33,"span",33),o.dc(34),o.Jb(),o.Jb(),o.Kb(35,"div",30),o.dc(36," PRIORIDADE:\xa0"),o.Kb(37,"span",33),o.dc(38),o.Jb(),o.Jb(),o.Jb(),o.Jb(),o.Ib(39,"br"),o.Jb(),o.cc(40,v,4,0,"div",34),o.Jb(),o.Jb()),2&t){const t=o.Tb();o.xb(11),o.fc("SENHA:\xa0",t.senha,""),o.xb(3),o.fc(" IDENTIFICADOR DO AGENDAMENTO:\xa0",t.identificador," "),o.xb(2),o.fc(" NOME:\xa0",t.nome," "),o.xb(2),o.fc(" CPF/CNPJ:\xa0",t.formatarPessoas(t.cpfCnpj)," "),o.xb(2),o.fc(" UNIDADE:\xa0",t.unidade," "),o.xb(2),o.fc(" ",t.endereco," "),o.xb(2),o.fc(" DATA:\xa0 ",t.formatarDate(t.data)," "),o.xb(2),o.fc(" HOR\xc1RIO:\xa0 ",t.horario," "),o.xb(2),o.fc(" SERVI\xc7O:\xa0 ",t.servico," "),o.xb(2),o.fc(" DETALHAMENTO:\xa0 ",t.detalhamentoServico," "),o.xb(4),o.ec(t.statusAgendamento),o.xb(4),o.ec(t.prioridade),o.xb(2),o.Wb("ngIf","Agendado"==t.statusAgendamento)}}let m=(()=>{class t{constructor(t,e){this.fb=t,this.ativacaoService=e,this.mostra=!1,this.proximo=!1}ngOnInit(){this.ativaForm=this.fb.group({id:[null,[]],identificador:["",[]],senha:["",[]],nome:["",[]],cpfCnpj:["",[]],unidade:["",[]],endereco:["",[]],data:["",[]],horario:["",[]],servico:["",[]],detalhamentoServico:["",[]],statusAgendamento:["",[]],prioridade:["",[]]})}senhaById(){this.ativacaoService.senhaById(this.ativaForm.get("id").value).subscribe(t=>{this.proximo=!1,this.identificador=t.identificador,this.senha=t.senha,this.nome=t.nome,this.cpfCnpj=t.cpfCnpj,this.unidade=t.unidade,this.endereco=t.endereco,this.data=t.data,this.horario=t.horario,this.servico=t.servico,this.detalhamentoServico=t.detalhamentoServico,this.statusAgendamento=t.statusAgendamento,this.prioridade=t.prioridade,this.mostra=!0,this.carregarDados(t)})}carregarDados(t){this.ativaForm.patchValue(t)}formatarDate(t){let e="",a=t.substring(8,10),i=t.substring(5,7),b=t.substring(0,4);return 1==a.length&&(a="0"+a),1==i.length&&(i="0"+i),e=a+"/"+i+"/"+b,e}formatarPessoas(t){let e;return 11==t.length&&(e=this.formatarCpf(t)),14==t.length&&(e=this.formatarCnpj(t)),e}formatarCpf(t){let e=t;return e.substring(0,3)+"."+e.substring(3,6)+"."+e.substring(6,9)+"-"+e.substring(9,11)}formatarCnpj(t){let e=t;return e.substring(0,2)+"."+e.substring(2,5)+"."+e.substring(5,8)+"/"+e.substring(8,12)+"-"+e.substring(12,14)}ativar(){this.mostra=!1,this.ativacaoService.updateAgendamento(this.ativaForm.get("id").value).subscribe(t=>{this.onSubmit()})}onSubmit(){this.ativaForm.get("id").disable(),this.ativacaoService.create(this.ativaForm.value).subscribe(t=>{this.proximo=!0,this.ativaForm.get("id").enable()})}}return t.\u0275fac=function(e){return new(e||t)(o.Hb(r.b),o.Hb(s))},t.\u0275cmp=o.Bb({type:t,selectors:[["app-ativacao-form"]],decls:31,vars:3,consts:[[1,"col-12"],[1,"breadcrumb"],[1,"breadcrumb-item"],["routerLink","/"],[1,"breadcrumb-item","active"],[1,"row","mb-4"],[1,"col-md"],[1,"h3","border-left","pl-2"],["type","button","routerLink","/",1,"btn","btn-warning","float-right"],[1,"fas","fa-backward"],["novalidate","",1,"needs-validation",3,"formGroup"],[1,"card",2,"box-shadow","5px 5px 10px #000"],[1,"card-header"],[1,"card-body"],[1,"form-row","col-md-12"],[1,"col-md-4","d-flex","align-items-center"],[1,"form-group","col-md-12"],["for","id",1,"h5","col-md","d-flex","justify-content-center"],["id","id","type","text","formControlName","id",1,"form-control","text-center",3,"blur"],[1,"col-md-8"],["class","alert alert-dark mt-4 text-center","role","alert",4,"ngIf"],["class","container col-md-8","style","box-shadow: 5px 5px 10px #000;",4,"ngIf"],["role","alert",1,"alert","alert-dark","mt-4","text-center"],["type","button","data-dismiss","alert","aria-label","Fechar",1,"close"],["aria-hidden","true"],[2,"color","green","font-weight","bold"],[1,"container","col-md-8",2,"box-shadow","5px 5px 10px #000"],[1,"row","mt-2"],[1,"h4","col-md","d-flex","justify-content-center","mt-2"],[1,"form-group","col-12",2,"font-size","10pt"],[1,"form-row","col-12","d-flex","justify-content-center"],[2,"font-size","16pt","font-weight","bold"],[2,"font-size","14pt","text-align","center"],[2,"font-weight","bold"],["class","d-flex justify-content-center",4,"ngIf"],[1,"d-flex","justify-content-center"],["type","button",1,"btn","btn-primary","mb-3","ml-1",3,"click"],[1,"fas","fa-tasks"]],template:function(t,e){1&t&&(o.Kb(0,"div",0),o.Kb(1,"nav"),o.Kb(2,"ol",1),o.Kb(3,"li",2),o.Kb(4,"a",3),o.dc(5,"In\xedcio"),o.Jb(),o.Jb(),o.Kb(6,"li",4),o.dc(7,"Ativa\xe7\xe3o de Senhas"),o.Jb(),o.Jb(),o.Jb(),o.Kb(8,"div",5),o.Kb(9,"div",6),o.Kb(10,"h1",7),o.dc(11," Ativa\xe7\xe3o de senhas "),o.Jb(),o.Jb(),o.Kb(12,"div",6),o.Kb(13,"button",8),o.Ib(14,"i",9),o.dc(15,"\xa0Voltar "),o.Jb(),o.Jb(),o.Jb(),o.Kb(16,"form",10),o.Kb(17,"div",11),o.Kb(18,"div",12),o.dc(19," Formul\xe1rio para Ativa\xe7\xe3o de senhas "),o.Jb(),o.Kb(20,"div",13),o.Kb(21,"div",14),o.Kb(22,"div",15),o.Kb(23,"div",14),o.Kb(24,"div",16),o.Kb(25,"label",17),o.dc(26,"IDENTIFICADOR DO AGENDAMENTO:"),o.Jb(),o.Kb(27,"input",18),o.Rb("blur",(function(){return e.senhaById()})),o.Jb(),o.Jb(),o.Jb(),o.Jb(),o.Kb(28,"div",19),o.cc(29,h,6,0,"div",20),o.cc(30,f,41,13,"div",21),o.Jb(),o.Jb(),o.Jb(),o.Jb(),o.Jb(),o.Jb()),2&t&&(o.xb(16),o.Wb("formGroup",e.ativaForm),o.xb(13),o.Wb("ngIf",e.proximo),o.xb(1),o.Wb("ngIf",e.mostra))},directives:[l.d,l.c,r.o,r.g,r.d,r.a,r.f,r.c,i.j],styles:[""]}),t})();var u=a("KmtZ");function p(t,e){if(1&t&&(o.Kb(0,"tr"),o.Kb(1,"td"),o.dc(2),o.Ib(3,"br"),o.dc(4),o.Ib(5,"br"),o.dc(6),o.Jb(),o.Kb(7,"td"),o.dc(8),o.Ib(9,"br"),o.dc(10),o.Jb(),o.Kb(11,"td"),o.dc(12),o.Ib(13,"br"),o.dc(14),o.Jb(),o.Kb(15,"td"),o.dc(16),o.Ib(17,"br"),o.dc(18),o.Ib(19,"br"),o.dc(20),o.Jb(),o.Kb(21,"td"),o.dc(22),o.Ib(23,"br"),o.dc(24),o.Jb(),o.Kb(25,"td"),o.dc(26),o.Ib(27,"br"),o.dc(28),o.Jb(),o.Jb()),2&t){const t=e.$implicit,a=o.Tb();o.xb(2),o.ec(t.id),o.xb(2),o.ec(a.globalService.formatarDate(t.ativacao)),o.xb(2),o.ec(a.globalService.formatarTime(t.ativacao)),o.xb(2),o.ec(t.identificador),o.xb(2),o.ec(t.prioridade),o.xb(2),o.ec(t.statusFila),o.xb(2),o.ec(t.statusAgendamento),o.xb(2),o.ec(t.senha),o.xb(2),o.ec(a.globalService.formatarDate(t.data)),o.xb(2),o.fc(" ",t.horario," "),o.xb(2),o.ec(t.nome),o.xb(2),o.ec(a.globalService.formatarPessoas(t.cpfCnpj)),o.xb(2),o.ec(t.servico),o.xb(2),o.ec(t.detalhamentoServico)}}const J=[{path:"",component:m},{path:"listarfila",component:(()=>{class t{constructor(t,e){this.ativacaoService=t,this.globalService=e}ngOnInit(){this.listarFilaAtivados()}listarFilaAtivados(){this.ativacaoService.listarFilaAtivados(this.globalService.getUnidade()).subscribe(t=>this.filas=t)}}return t.\u0275fac=function(e){return new(e||t)(o.Hb(s),o.Hb(u.a))},t.\u0275cmp=o.Bb({type:t,selectors:[["app-ativacao-list"]],decls:38,vars:1,consts:[[1,"col-12"],[1,"breadcrumb"],[1,"breadcrumb-item"],["routerLink","/"],[1,"breadcrumb-item","active"],[1,"row","mb-4"],[1,"col-md"],[1,"h3","border-left","pl-2"],[1,"table","table-hover",2,"box-shadow","5px 5px 10px #000"],[1,"bg-success","text-light"],[4,"ngFor","ngForOf"]],template:function(t,e){1&t&&(o.Kb(0,"div",0),o.Kb(1,"nav"),o.Kb(2,"ol",1),o.Kb(3,"li",2),o.Kb(4,"a",3),o.dc(5,"In\xedcio"),o.Jb(),o.Jb(),o.Kb(6,"li",4),o.dc(7,"Listagem"),o.Jb(),o.Jb(),o.Jb(),o.Kb(8,"div",5),o.Kb(9,"div",6),o.Kb(10,"h1",7),o.dc(11," Listagem de senhas ativas "),o.Jb(),o.Jb(),o.Jb(),o.Kb(12,"div",0),o.Kb(13,"table",8),o.Kb(14,"thead"),o.Kb(15,"tr",9),o.Kb(16,"th"),o.dc(17,"ID/Ativa\xe7\xe3o"),o.Jb(),o.Kb(18,"th"),o.dc(19,"Identificador/"),o.Ib(20,"br"),o.dc(21,"Prioridade"),o.Jb(),o.Kb(22,"th"),o.dc(23,"Status da Fila/"),o.Ib(24,"br"),o.dc(25,"Status do Agendamento"),o.Jb(),o.Kb(26,"th"),o.dc(27,"Senha/Data/Hor\xe1rio"),o.Jb(),o.Kb(28,"th"),o.dc(29,"Nome/"),o.Ib(30,"br"),o.dc(31,"CPF/CNPJ"),o.Jb(),o.Kb(32,"th"),o.dc(33,"Servi\xe7o/"),o.Ib(34,"br"),o.dc(35,"Detalhamento de Servi\xe7o"),o.Jb(),o.Jb(),o.Jb(),o.Kb(36,"tbody"),o.cc(37,p,29,14,"tr",10),o.Jb(),o.Jb(),o.Jb(),o.Jb()),2&t&&(o.xb(37),o.Wb("ngForOf",e.filas))},directives:[l.d,i.i],styles:[""]}),t})()}];let K=(()=>{class t{}return t.\u0275mod=o.Fb({type:t}),t.\u0275inj=o.Eb({factory:function(e){return new(e||t)},imports:[[l.e.forChild(J)],l.e]}),t})(),g=(()=>{class t{}return t.\u0275mod=o.Fb({type:t}),t.\u0275inj=o.Eb({factory:function(e){return new(e||t)},imports:[[i.b,K,r.j,b.b]]}),t})()}}]);