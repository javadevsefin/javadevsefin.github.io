(window.webpackJsonp=window.webpackJsonp||[]).push([[17],{ACHm:function(e,t,i){"use strict";i.r(t),i.d(t,"PainelModule",(function(){return y}));var s=i("ofXK"),r=i("HDdC"),c=i("quSY");class a extends c.a{constructor(e,t){super()}schedule(e,t=0){return this}}class n extends a{constructor(e,t){super(e,t),this.scheduler=e,this.work=t,this.pending=!1}schedule(e,t=0){if(this.closed)return this;this.state=e;const i=this.id,s=this.scheduler;return null!=i&&(this.id=this.recycleAsyncId(s,i,t)),this.pending=!0,this.delay=t,this.id=this.id||this.requestAsyncId(s,this.id,t),this}requestAsyncId(e,t,i=0){return setInterval(e.flush.bind(e,this),i)}recycleAsyncId(e,t,i=0){if(null!==i&&this.delay===i&&!1===this.pending)return t;clearInterval(t)}execute(e,t){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const i=this._execute(e,t);if(i)return i;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(e,t){let i=!1,s=void 0;try{this.work(e)}catch(r){i=!0,s=!!r&&r||new Error(r)}if(i)return this.unsubscribe(),s}_unsubscribe(){const e=this.id,t=this.scheduler,i=t.actions,s=i.indexOf(this);this.work=null,this.state=null,this.pending=!1,this.scheduler=null,-1!==s&&i.splice(s,1),null!=e&&(this.id=this.recycleAsyncId(t,e,null)),this.delay=null}}let d=(()=>{class e{constructor(t,i=e.now){this.SchedulerAction=t,this.now=i}schedule(e,t=0,i){return new this.SchedulerAction(this,e).schedule(i,t)}}return e.now=()=>Date.now(),e})();class b extends d{constructor(e,t=d.now){super(e,()=>b.delegate&&b.delegate!==this?b.delegate.now():t()),this.actions=[],this.active=!1,this.scheduled=void 0}schedule(e,t=0,i){return b.delegate&&b.delegate!==this?b.delegate.schedule(e,t,i):super.schedule(e,t,i)}flush(e){const{actions:t}=this;if(this.active)return void t.push(e);let i;this.active=!0;do{if(i=e.execute(e.state,e.delay))break}while(e=t.shift());if(this.active=!1,i){for(;e=t.shift();)e.unsubscribe();throw i}}}const o=new b(n);var h=i("DH7j");function l(e){const{subscriber:t,counter:i,period:s}=e;t.next(i),this.schedule({subscriber:t,counter:i+1,period:s},s)}var u=i("fXoL"),p=i("AytR"),f=i("IzEk"),v=i("tk/3");let m=(()=>{class e{constructor(e){this.http=e,this.API=p.a.API+"/atendeFacil/api/painel"}findByPainelA(){return this.http.get(this.API+"/01").pipe(Object(f.a)(1))}findByChamada(){return this.http.get(this.API+"/01/chamada").pipe(Object(f.a)(1))}}return e.\u0275fac=function(t){return new(t||e)(u.Ob(v.a))},e.\u0275prov=u.Db({token:e,factory:e.\u0275fac,providedIn:"root"}),e})();var J=i("KmtZ");function K(e,t){if(1&e&&(u.Kb(0,"tr"),u.Kb(1,"td"),u.dc(2),u.Jb(),u.Kb(3,"td"),u.dc(4),u.Jb(),u.Kb(5,"td"),u.Kb(6,"small"),u.dc(7),u.Jb(),u.Jb(),u.Kb(8,"td"),u.dc(9),u.Jb(),u.Kb(10,"td"),u.dc(11),u.Jb(),u.Jb()),2&e){const e=t.$implicit,i=u.Tb();u.xb(2),u.fc(" ",e.senha," "),u.xb(2),u.fc(" ",e.guiche," "),u.xb(3),u.gc("",i.formatarHora(e.chamada)," - ",i.formatarData(e.chamada),""),u.xb(2),u.fc(" ",e.servico," "),u.xb(2),u.fc(" ",e.unidade," ")}}let g=(()=>{class e{constructor(e,t){this.painelService=e,this.globalService=t,this.title="Painel de Chamada da Unidade de Atendimento Pa\xe7o Municipal"}ngOnInit(){(function(e=0,t=o){var i;return i=e,(Object(h.a)(i)||!(i-parseFloat(i)+1>=0)||e<0)&&(e=0),t&&"function"==typeof t.schedule||(t=o),new r.a(i=>(i.add(t.schedule(l,e,{subscriber:i,counter:0,period:e})),i))})(5e3).subscribe(e=>{this.listarPainelA(),this.listarChamada()})}listarChamada(){this.painelService.findByChamada().subscribe(e=>{this.id=e.id,this.filaId=e.filaId,this.senha=e.senha,this.guiche=e.guiche,this.servico=e.servico,this.unidade=e.unidade,this.data=this.globalService.formatarDate(e.chamada),this.hora=this.globalService.formatarTime(e.chamada),this.prioridade=e.prioridade})}listarPainelA(){this.painelService.findByPainelA().subscribe(e=>this.paineis=e)}formatarData(e){return this.globalService.formatarDate(e)}formatarHora(e){return this.globalService.formatarTime(e)}mudarCor(e){return"Normal"==e?"blue":"red"}}return e.\u0275fac=function(t){return new(t||e)(u.Hb(m),u.Hb(J.a))},e.\u0275cmp=u.Bb({type:e,selectors:[["app-painel-a-list-form"]],decls:58,vars:21,consts:[[1,"col-12","mt-5"],[1,"needs-validation"],[1,"card",2,"box-shadow","5px 5px 10px #000"],[1,"card-header",2,"font-weight","bold","font-size","16px"],[1,"card-body"],[1,"form-row","col-md-12"],[1,"col-md-6"],[1,"card-header",2,"font-weight","bold","font-size","18px"],[1,"form-row","col-md-12","border-bottom"],[1,"col-md-12",2,"font-weight","bold","font-size","20pt","color","blue","text-align","center"],[1,"form-row","col-md-12","mt-4"],[1,"col-md-12","text-center"],[1,"painel"],[1,"col-md-12",2,"font-weight","bold","font-size","20pt","text-align","center"],[1,"text-center"],[2,"font-weight","bold"],[1,"table","table-hover",2,"box-shadow","5px 5px 10px #000"],[1,"bg-success","text-light"],[4,"ngFor","ngForOf"]],template:function(e,t){1&e&&(u.Kb(0,"div",0),u.Kb(1,"form",1),u.Kb(2,"div",2),u.Kb(3,"div",3),u.dc(4),u.Ub(5,"uppercase"),u.Jb(),u.Kb(6,"div",4),u.Kb(7,"div",5),u.Kb(8,"div",6),u.Kb(9,"div",2),u.Kb(10,"div",7),u.dc(11," ATENDIMENTO "),u.Jb(),u.Kb(12,"div",4),u.Kb(13,"div",8),u.Kb(14,"div",9),u.dc(15),u.Jb(),u.Jb(),u.Kb(16,"div",10),u.Kb(17,"div",11),u.Kb(18,"span",12),u.dc(19),u.Ub(20,"uppercase"),u.Jb(),u.Jb(),u.Jb(),u.Kb(21,"div",10),u.Kb(22,"div",11),u.Kb(23,"span",12),u.dc(24),u.Ub(25,"uppercase"),u.Jb(),u.Jb(),u.Jb(),u.Kb(26,"div",10),u.Kb(27,"div",11),u.Kb(28,"span",12),u.dc(29),u.Jb(),u.Jb(),u.Jb(),u.Kb(30,"div",10),u.Kb(31,"div",11),u.Kb(32,"span",12),u.dc(33),u.Ub(34,"uppercase"),u.Jb(),u.Jb(),u.Jb(),u.Kb(35,"div",10),u.Kb(36,"div",13),u.dc(37),u.Ub(38,"uppercase"),u.Jb(),u.Jb(),u.Jb(),u.Jb(),u.Jb(),u.Kb(39,"div",6),u.Kb(40,"div",14),u.Kb(41,"span",15),u.dc(42,"SENHAS CHAMADAS"),u.Jb(),u.Jb(),u.Kb(43,"table",16),u.Kb(44,"thead"),u.Kb(45,"tr",17),u.Kb(46,"th"),u.dc(47,"Senha"),u.Jb(),u.Kb(48,"th"),u.dc(49,"Guich\xea"),u.Jb(),u.Kb(50,"th"),u.dc(51,"Chamada"),u.Jb(),u.Kb(52,"th"),u.dc(53,"Servi\xe7o"),u.Jb(),u.Kb(54,"th"),u.dc(55,"Unidade"),u.Jb(),u.Jb(),u.Jb(),u.Kb(56,"tbody"),u.cc(57,K,12,6,"tr",18),u.Jb(),u.Jb(),u.Jb(),u.Jb(),u.Jb(),u.Jb(),u.Jb(),u.Jb()),2&e&&(u.xb(4),u.fc(" ",u.Vb(5,11,t.title)," "),u.xb(11),u.fc(" CHAMANDO SENHA: ",t.senha," "),u.xb(4),u.fc("GUICH\xca: ",u.Vb(20,13,t.guiche),""),u.xb(5),u.fc("SERVI\xc7O: ",u.Vb(25,15,t.servico),""),u.xb(5),u.gc("CHAMADA: ",t.data," - ",t.hora,""),u.xb(4),u.fc("UNIDADE: ",u.Vb(34,17,t.unidade),""),u.xb(3),u.bc("color",t.mudarCor(t.prioridade)),u.xb(1),u.fc(" PRIORIDADE: ",u.Vb(38,19,t.prioridade)," "),u.xb(20),u.Wb("ngForOf",t.paineis))},directives:[s.i],pipes:[s.m],styles:["span.painel[_ngcontent-%COMP%]{font-weight:700;font-size:16pt}"]}),e})();var x=i("tyNb");const w=[{path:"01",component:g}];let A=(()=>{class e{}return e.\u0275mod=u.Fb({type:e}),e.\u0275inj=u.Eb({factory:function(t){return new(t||e)},imports:[[x.e.forChild(w)],x.e]}),e})(),y=(()=>{class e{}return e.\u0275mod=u.Fb({type:e}),e.\u0275inj=u.Eb({factory:function(t){return new(t||e)},imports:[[s.b,A]]}),e})()}}]);